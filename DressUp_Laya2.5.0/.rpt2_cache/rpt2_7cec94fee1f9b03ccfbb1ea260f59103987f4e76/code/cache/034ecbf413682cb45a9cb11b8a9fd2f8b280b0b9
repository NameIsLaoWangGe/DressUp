{
  "code": "import GameDataController from \"../GameDataController\";\r\nimport BagListController from \"./Bag/BagListController\";\r\nimport { UIMgr } from \"../../Frame/Core\";\r\nimport ADManager, { TaT } from \"../../Admanager\";\r\nexport default class TestItem extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.Data = [];\r\n        this.str = {};\r\n        this.count = 0;\r\n    }\r\n    onAwake() {\r\n        this.ADBtn = this.owner.getChildByName(\"ADBtn\");\r\n        this.first = this.owner.getChildByName(\"first\");\r\n        this.second = this.owner.getChildByName(\"second\");\r\n        this.third = this.owner.getChildByName(\"third\");\r\n        this.ADBtn.on(Laya.Event.CLICK, this, this.ADClick);\r\n        this.Data = GameDataController.ClothPackge3.cloths1;\r\n        console.log(this.Data);\r\n        this.Data.forEach((v, i) => {\r\n            let nv = GameDataController.ClothDataRefresh[this.Data[i].ID];\r\n            this.str[this.Data[i].ID] = nv;\r\n        });\r\n        for (let k in this.str) {\r\n            console.log(k, this.str[k]);\r\n        }\r\n        for (let k in this.str) {\r\n            if (this.str[k] == 0) {\r\n                this.count = 3;\r\n            }\r\n        }\r\n        this.ShowADClickCount(this.count);\r\n    }\r\n    ADClick() {\r\n        console.log(\"点击了广告\");\r\n        ADManager.ShowReward(() => {\r\n            ADManager.TAPoint(TaT.BtnClick, \"ADshuiyi_click\");\r\n            this.count++;\r\n        }, () => {\r\n            UIMgr.show(\"UITip\", () => {\r\n                this.count++;\r\n            });\r\n        });\r\n        this.ShowADClickCount(this.count);\r\n        if (this.count == 3) {\r\n            console.log(\"点击了三次\");\r\n            for (let k in this.str) {\r\n                if (this.str[k] == 1) {\r\n                    let dataall = GameDataController.ClothDataRefresh;\r\n                    dataall[k] = 0;\r\n                    GameDataController.ClothDataRefresh = dataall;\r\n                    Laya.LocalStorage.setJSON(this.Data[0].GetType2, this.str);\r\n                    UIMgr.get(\"UITest\").Refresh();\r\n                    BagListController.Instance.showList();\r\n                }\r\n            }\r\n        }\r\n        else if (this.count > 3) {\r\n            UIMgr.tip(\"已获取睡衣套装奖励，无法继续获取\");\r\n        }\r\n    }\r\n    ShowADClickCount(count) {\r\n        switch (count) {\r\n            case 0:\r\n                this.first.skin = \"Egg2/tiao1.png\";\r\n                this.second.skin = \"Egg2/tiao1.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 1:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao1.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 2:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao2.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 3:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao2.png\";\r\n                this.third.skin = \"Egg2/tiao2.png\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=TestItem.js.map",
  "references": [
    "D:/新建文件夹/src/script/Game/ClothData.ts",
    "D:/新建文件夹/src/script/Game/GameDataController.ts",
    "D:/新建文件夹/src/script/Game/UI/UITest.ts",
    "D:/新建文件夹/src/script/Game/UI/Bag/BagListController.ts",
    "D:/新建文件夹/src/script/Frame/Core.ts",
    "D:/新建文件夹/src/script/Admanager.ts"
  ],
  "map": "{\"version\":3,\"file\":\"TestItem.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/script/Game/UI/TestItem.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
