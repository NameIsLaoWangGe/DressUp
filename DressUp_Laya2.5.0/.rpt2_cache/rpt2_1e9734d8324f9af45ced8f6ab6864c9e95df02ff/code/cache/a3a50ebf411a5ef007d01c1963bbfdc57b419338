{
  "code": "import { OpenType, UIBase } from \"../../Frame/Core\";\r\nexport var Task;\r\n(function (Task) {\r\n    Task._taskData = {\r\n        arr: [\r\n            {\r\n                name: 'PK3次',\r\n                taskType: 'PK',\r\n                condition: 3,\r\n                resCondition: 0,\r\n                rewardType: 'ticket',\r\n                rewardNum: 1,\r\n            },\r\n            {\r\n                name: '观看一个视频',\r\n                taskType: 'ads',\r\n                condition: 1,\r\n                resCondition: 0,\r\n                rewardType: 'ticket',\r\n                rewardNum: 1,\r\n            },\r\n            {\r\n                name: '观看两个视频',\r\n                taskType: 'ads',\r\n                condition: 2,\r\n                resCondition: 0,\r\n                rewardType: 'ticket',\r\n                rewardNum: 1,\r\n            },\r\n            {\r\n                name: '观看3个视频',\r\n                taskType: 'ads',\r\n                condition: 3,\r\n                resCondition: 0,\r\n                rewardType: 'ticket',\r\n                rewardNum: 1,\r\n            },\r\n        ],\r\n    };\r\n    Task.todayData = {\r\n        get date() {\r\n            return Laya.LocalStorage.getItem('Task_todayData') ? Number(Laya.LocalStorage.getItem('Task_todayData')) : null;\r\n        },\r\n        set date(date) {\r\n            Laya.LocalStorage.setItem('Task_todayData', date.toString());\r\n        }\r\n    };\r\n    0;\r\n    function getTaskProperty(ClassName, name, property) {\r\n        let pro = null;\r\n        let arr = getTaskClassArr(ClassName);\r\n        for (let index = 0; index < arr.length; index++) {\r\n            const element = arr[index];\r\n            if (element['name'] === name) {\r\n                pro = element[property];\r\n                break;\r\n            }\r\n        }\r\n        if (pro !== null) {\r\n            return pro;\r\n        }\r\n        else {\r\n            console.log(name + '找不到属性:' + property, pro);\r\n            return null;\r\n        }\r\n    }\r\n    Task.getTaskProperty = getTaskProperty;\r\n    function setTaskProperty(ClassName, name, property, value) {\r\n        let arr = getTaskClassArr(ClassName);\r\n        for (let index = 0; index < arr.length; index++) {\r\n            const element = arr[index];\r\n            if (element['name'] === name) {\r\n                element[property] = value;\r\n                break;\r\n            }\r\n        }\r\n        let data = {};\r\n        data[ClassName] = arr;\r\n        Laya.LocalStorage.setJSON(ClassName, JSON.stringify(data));\r\n        if (Task._TaskList) {\r\n            Task._TaskList.refresh();\r\n        }\r\n    }\r\n    Task.setTaskProperty = setTaskProperty;\r\n    function getTaskClassArr(ClassName) {\r\n        let arr = [];\r\n        switch (ClassName) {\r\n            case TaskClass.everyday:\r\n                arr = Task.everydayTask;\r\n                break;\r\n            case TaskClass.perpetual:\r\n                arr = Task.perpetualTask;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return arr;\r\n    }\r\n    Task.getTaskClassArr = getTaskClassArr;\r\n    function doDetectionTask(calssName, name, number) {\r\n        if (!number) {\r\n            number = 1;\r\n        }\r\n        let resCondition = Task.getTaskProperty(calssName, name, Task.TaskProperty.resCondition);\r\n        let condition = Task.getTaskProperty(calssName, name, Task.TaskProperty.condition);\r\n        if (Task.getTaskProperty(calssName, name, Task.TaskProperty.get) !== -1) {\r\n            if (condition <= resCondition + number) {\r\n                Task.setTaskProperty(calssName, name, Task.TaskProperty.resCondition, condition);\r\n                Task.setTaskProperty(calssName, name, Task.TaskProperty.get, 1);\r\n                if (Task._TaskList) {\r\n                    Task._TaskList.refresh();\r\n                }\r\n                return 1;\r\n            }\r\n            else {\r\n                Task.setTaskProperty(calssName, name, Task.TaskProperty.resCondition, resCondition + number);\r\n                if (Task._TaskList) {\r\n                    Task._TaskList.refresh();\r\n                }\r\n                return 0;\r\n            }\r\n        }\r\n        else {\r\n            return -1;\r\n        }\r\n    }\r\n    Task.doDetectionTask = doDetectionTask;\r\n    let TaskProperty;\r\n    (function (TaskProperty) {\r\n        TaskProperty[\"name\"] = \"name\";\r\n        TaskProperty[\"explain\"] = \"explain\";\r\n        TaskProperty[\"taskType\"] = \"taskType\";\r\n        TaskProperty[\"condition\"] = \"condition\";\r\n        TaskProperty[\"resCondition\"] = \"resCondition\";\r\n        TaskProperty[\"rewardType\"] = \"rewardType\";\r\n        TaskProperty[\"rewardNum\"] = \"rewardNum\";\r\n        TaskProperty[\"arrange\"] = \"arrange\";\r\n        TaskProperty[\"time\"] = \"time\";\r\n        TaskProperty[\"get\"] = \"get\";\r\n    })(TaskProperty = Task.TaskProperty || (Task.TaskProperty = {}));\r\n    let TaskClass;\r\n    (function (TaskClass) {\r\n        TaskClass[\"everyday\"] = \"Task_Everyday\";\r\n        TaskClass[\"perpetual\"] = \"Task_Perpetual\";\r\n    })(TaskClass = Task.TaskClass || (Task.TaskClass = {}));\r\n    let EventType;\r\n    (function (EventType) {\r\n        EventType[\"getAward\"] = \"getAward\";\r\n        EventType[\"adsGetAward_Every\"] = \"adsGetAward_Every\";\r\n        EventType[\"useSkins\"] = \"useSkins\";\r\n        EventType[\"victory\"] = \"victory\";\r\n        EventType[\"adsTime\"] = \"adsTime\";\r\n        EventType[\"victoryBox\"] = \"victoryBox\";\r\n    })(EventType = Task.EventType || (Task.EventType = {}));\r\n    let TaskType;\r\n    (function (TaskType) {\r\n        TaskType[\"ads\"] = \"ads\";\r\n        TaskType[\"victory\"] = \"victory\";\r\n        TaskType[\"useSkins\"] = \"useSkins\";\r\n        TaskType[\"treasureBox\"] = \"treasureBox\";\r\n    })(TaskType = Task.TaskType || (Task.TaskType = {}));\r\n    let TaskName;\r\n    (function (TaskName) {\r\n        TaskName[\"\\u89C2\\u770B\\u5E7F\\u544A\\u83B7\\u5F97\\u91D1\\u5E01\"] = \"\\u89C2\\u770B\\u5E7F\\u544A\\u83B7\\u5F97\\u91D1\\u5E01\";\r\n        TaskName[\"\\u6BCF\\u65E5\\u670D\\u52A110\\u4F4D\\u5BA2\\u4EBA\"] = \"\\u6BCF\\u65E5\\u670D\\u52A110\\u4F4D\\u5BA2\\u4EBA\";\r\n        TaskName[\"\\u6BCF\\u65E5\\u89C2\\u770B\\u4E24\\u4E2A\\u5E7F\\u544A\"] = \"\\u6BCF\\u65E5\\u89C2\\u770B\\u4E24\\u4E2A\\u5E7F\\u544A\";\r\n        TaskName[\"\\u6BCF\\u65E5\\u4F7F\\u75285\\u79CD\\u76AE\\u80A4\"] = \"\\u6BCF\\u65E5\\u4F7F\\u75285\\u79CD\\u76AE\\u80A4\";\r\n        TaskName[\"\\u6BCF\\u65E5\\u5F00\\u542F10\\u4E2A\\u5B9D\\u7BB1\"] = \"\\u6BCF\\u65E5\\u5F00\\u542F10\\u4E2A\\u5B9D\\u7BB1\";\r\n    })(TaskName = Task.TaskName || (Task.TaskName = {}));\r\n    function initTask() {\r\n        if (Task.todayData.date !== (new Date).getDate()) {\r\n            Task.everydayTask = Laya.loader.getRes('GameData/Task/everydayTask.json')['RECORDS'];\r\n            console.log('不是同一天，每日任务重制！');\r\n            Task.todayData.date = (new Date).getDate();\r\n        }\r\n        else {\r\n            console.log('是同一天！，继续每日任务');\r\n        }\r\n    }\r\n    Task.initTask = initTask;\r\n})(Task || (Task = {}));\r\nexport default class UIShop extends UIBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._openType = OpenType.Attach;\r\n    }\r\n    onInit() {\r\n        console.log(Task._taskData.arr);\r\n        this.btnEv(\"BackBtn\", () => {\r\n            this.hide();\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=UIShop.js.map",
  "references": [
    "D:/Game/project/DressUp/Project_Laya2.5.0/DressUp_Laya2.5.0/src/script/Frame/Core.ts"
  ],
  "map": "{\"version\":3,\"file\":\"UIShop.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/script/Game/UI/UIShop.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
