
export module Tools
{
    

    /**
   * 为一个节点创建一个扇形遮罩
   * @param parent 被遮罩的节点，也是父节点
   * @param startAngle 扇形的初始角度
   * @param endAngle 扇形结束角度
  */
    export function taskCircleCountdown(parent: Laya.Image, startAngle, endAngle): Laya.DrawPieCmd
    {
        // 父节点cacheAs模式必须为"bitmap"
        parent.cacheAs = "bitmap";
        //新建一个sprite作为绘制扇形节点
        if (parent.numChildren > 0)
        {
            let drawPieSpt = parent.getChildAt(0) as Laya.Sprite;
            //drawPieSpt.blendMode = "destination-out";
            // 加入父节点
            // 绘制扇形，位置在中心位置，大小略大于父节点，保证完全遮住
            console.log("endAngle",endAngle);
            let drawPie = drawPieSpt.graphics.drawPie(parent.width / 2, parent.height / 2, parent.width / 2 + 10, startAngle, endAngle, "#000000");
            return drawPie;
        }
        else
        {
            let drawPieSpt = new Laya.Sprite();
            //设置叠加模式
            //drawPieSpt.blendMode = "destination-out";
            // 加入父节点
            parent.addChild(drawPieSpt);
            // 绘制扇形，位置在中心位置，大小略大于父节点，保证完全遮住
            let drawPie = drawPieSpt.graphics.drawPie(parent.width / 2, parent.height / 2, parent.width / 2 + 10, startAngle, endAngle, "#000000");
            return drawPie;
        }


    }




}