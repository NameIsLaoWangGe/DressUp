{
  "code": "import { UIBase, OpenType, UIMgr } from \"../../Frame/Core\";\r\nimport GameDataController from \"../GameDataController\";\r\nimport ADManager, { TaT } from \"../../Admanager\";\r\nimport BagListController from \"./Bag/BagListController\";\r\nexport default class UITest extends UIBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._openType = OpenType.Attach;\r\n        this.Data = [];\r\n        this.str = {};\r\n        this.Num = 0;\r\n        this.Now = 0;\r\n        this.Need = 0;\r\n    }\r\n    onInit() {\r\n        this.first = this.vars(\"first\");\r\n        this.second = this.vars(\"second\");\r\n        this.third = this.vars(\"third\");\r\n        this.ADBtn = this.vars(\"ADBtn\");\r\n        this.Refresh();\r\n        this.btnEv(\"BackBtn\", () => {\r\n            this.hide();\r\n        });\r\n        this.btnEv(\"ADBtn\", () => {\r\n            this.ADBtnClick();\r\n        });\r\n    }\r\n    onShow() {\r\n        ADManager.TAPoint(TaT.PageEnter, \"shuiyipage\");\r\n        this.Refresh();\r\n    }\r\n    onHide() {\r\n        ADManager.TAPoint(TaT.PageLeave, \"shuiyipage\");\r\n        this.hide();\r\n    }\r\n    Refresh() {\r\n        for (let index = 0; index < GameDataController.ClothPackge3.cloths1.length; index++) {\r\n            this.Data[index] = GameDataController.ClothPackge3.cloths1[index];\r\n        }\r\n        this.Data.forEach((v, i) => {\r\n            let nv = GameDataController.ClothDataRefresh[this.Data[i].ID];\r\n            this.str[this.Data[i].ID] = nv;\r\n        });\r\n        this.Num = GameDataController.ClothAlllockNum(this.str);\r\n        this.Now = this.Data.length - this.Num;\r\n        this.Need = this.Data.length;\r\n        this.ADBtn.visible = this.Num > 0;\r\n        this.ShowADClickCount(this.Now);\r\n    }\r\n    ADBtnClick() {\r\n        console.log(\"点击了广告\");\r\n        console.log(this.Now + \"xxxxxxxxxxxxxx\");\r\n        ADManager.TAPoint(TaT.BtnClick, \"ADshuiyi_click\");\r\n        ADManager.ShowReward(() => {\r\n            this.GetAward();\r\n        }, () => {\r\n            UIMgr.show(\"UITip\", () => {\r\n                this.GetAward();\r\n            });\r\n        });\r\n    }\r\n    GetAward() {\r\n        for (let k in this.str) {\r\n            if (this.str[k] == 1) {\r\n                let dataall = GameDataController.ClothDataRefresh;\r\n                dataall[k] = 0;\r\n                GameDataController.ClothDataRefresh = dataall;\r\n                Laya.LocalStorage.setJSON(this.Data[0].GetType2, this.str);\r\n                this.Refresh();\r\n                BagListController.Instance.refresh();\r\n                console.log(\"获取一件装扮\");\r\n                UIMgr.tip(\"恭喜获得新衣服\");\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    ShowADClickCount(count) {\r\n        switch (count) {\r\n            case 0:\r\n                this.first.skin = \"Egg2/tiao1.png\";\r\n                this.second.skin = \"Egg2/tiao1.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 1:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao1.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 2:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao2.png\";\r\n                this.third.skin = \"Egg2/tiao1.png\";\r\n                break;\r\n            case 3:\r\n                this.first.skin = \"Egg2/tiao2.png\";\r\n                this.second.skin = \"Egg2/tiao2.png\";\r\n                this.third.skin = \"Egg2/tiao2.png\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=UITest.js.map",
  "references": [
    "D:/NewProject/src/script/Game/ClothData.ts",
    "D:/NewProject/src/script/Frame/Core.ts",
    "D:/NewProject/src/script/Game/GameDataController.ts",
    "D:/NewProject/src/script/Admanager.ts",
    "D:/NewProject/src/script/Game/UI/Bag/BagListController.ts"
  ],
  "map": "{\"version\":3,\"file\":\"UITest.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/script/Game/UI/UITest.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
